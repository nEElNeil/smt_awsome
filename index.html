<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <title>NJT Ticket</title>
    <style>
        :root {
            --color-1: #e91e3e;
            --color-2: #19b023;
            --color-3: #b4dfb6;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: white;
            color: black;
            overflow-x: hidden;
            /* Prevents the whole page from bouncing/scrolling */
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .top-nav {
            background-color: #002d62;
            height: 55px;
            width: 100%;
            flex-shrink: 0;
        }

        .ticket-content {
            flex: 1;
            padding: 15px;
            text-align: center;
            overflow-y: auto; /* Allows only the middle to scroll if needed */
        }

        .header-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .ticket-type-box {
            border: 1.5px solid black;
            padding: 8px;
            text-align: left;
            width: 130px;
            border-radius: 4px;
        }

        .qr-section img { width: 110px; }
        .tap-enlarge { font-size: 11px; font-weight: bold; margin-top: 4px; }

        .intrastate {
            font-size: 32px;
            font-weight: 900;
            margin: 15px 0;
        }

        .zone-btn {
            background: linear-gradient(to bottom, #9d9d9d 0%, #ffffff 50%, #9d9d9d 100%);
            border: 1px solid #7a7a7a;
            border-radius: 10px;
            padding: 12px;
            width: 95%;
            margin: 0 auto;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .zone-num { font-size: 48px; font-weight: bold; line-height: 1; }
        .zone-label { font-size: 22px; font-weight: bold; }
        .hblr-note { font-size: 13px; font-weight: bold; margin-top: 4px; }

        .validator-text {
            font-size: 14px;
            font-weight: bold;
            margin-top: 20px;
            text-decoration: underline;
        }

        .time-area { margin-top: 30px; }
        .clock-text { font-size: 28px; font-weight: bold; }
        .date-text { font-size: 22px; font-weight: bold; color: #333; }

        /* FIXED BOTTOM AREA */
        .bottom-sticky-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: white;
            z-index: 100;
        }

        .blinking-bar {
            display: flex;
            height: 40px;
            width: 100%;
            animation: blinker 1s step-start infinite;
        }

        @keyframes blinker {
            50% { opacity: 0; }
        }

        .seg { flex: 1; }
        .s1 { background-color: var(--color-1); }
        .s2 { background-color: var(--color-2); }
        .s3 { background-color: var(--color-3); }

        .expiry-text {
            text-align: center;
            font-weight: bold;
            padding: 8px 0;
            font-size: 16px;
            border-top: 1px solid #eee;
        }

        .bottom-menu {
            background-color: #1c1c1c;
            display: flex;
            justify-content: space-around;
            padding: 12px 0 25px 0; /* Extra bottom padding for Pixel gesture bar */
        }

        .menu-item { color: #888; font-size: 10px; text-align: center; }
        .menu-item.active { color: white; }
    </style>
</head>
<body>

    <div class="top-nav"></div>

    <div class="ticket-content">
        <div class="header-section">
            <div class="ticket-type-box">
                <div style="font-size: 18px; font-weight: bold;">One Way</div>
                <div style="font-size: 24px; font-weight: bold; margin-top: 5px;">1 Adult</div>
            </div>
            <div class="qr-section">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=110x110&data=NJT" alt="QR">
                <div class="tap-enlarge">Tap to enlarge</div>
            </div>
        </div>

        <div class="intrastate">INTRASTATE</div>

        <div class="zone-btn" onclick="changeColors()">
            <div class="zone-num">1</div>
            <div class="zone-label">ZONE RIDE</div>
            <div class="hblr-note">**Not Valid for HBLR**</div>
        </div>

        <div class="validator-text">View Bus Validator Instructions</div>

        <div class="time-area">
            <div class="clock-text" id="live-clock"></div>
            <div class="date-text" id="live-date"></div>
        </div>
    </div>

    <div class="bottom-sticky-container">
        <div class="blinking-bar">
            <div class="seg s1"></div>
            <div class="seg s2"></div>
            <div class="seg s3"></div>
        </div>
        <div class="expiry-text">Expires in 00:02:29:24</div>
        <div class="bottom-menu">
            <div class="menu-item">Favorites</div>
            <div class="menu-item active">My Tickets</div>
            <div class="menu-item">Home</div>
            <div class="menu-item">Rider Tools</div>
            <div class="menu-item">More</div>
        </div>
    </div>

    <script>
        function updateClock() {
            const now = new Date();
            document.getElementById('live-clock').innerText = now.toLocaleTimeString('en-US', { hour12: true, hour: '2-digit', minute: '2-digit', second: '2-digit' });
            document.getElementById('live-date').innerText = now.toLocaleDateString('en-US', { weekday: 'long', month: 'short', day: 'numeric', year: 'numeric' });
        }
        setInterval(updateClock, 1000);
        updateClock();

        function changeColors() {
            const hex = prompt("Enter 3 Hex codes separated by commas (e.g. #ff0000,#00ff00,#0000ff):");
            if (hex) {
                const colors = hex.split(',');
                if(colors[0]) document.documentElement.style.setProperty('--color-1', colors[0].trim());
                if(colors[1]) document.documentElement.style.setProperty('--color-2', colors[1].trim());
                if(colors[2]) document.documentElement.style.setProperty('--color-3', colors[2].trim());
            }
        }
    </script>
</body>
</html>
